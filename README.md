# TicketManager

A system for purchusing seats at a theater, using the POSIX threads (pthreads) package.

In this system, each customer initially books the seats that he wants, then pays for them by credit card and finally the money is transferred to the company's account. In these systems we have a large number customers served by a limited number of service points, therefore the program implements mutual blocking (with mutexes) and synchronization (with condition variables).

Objective: The seat booking system has a bank account, a telephone account center with Ntel operators who serve customers (find seats) and Ncash cashiers who complete the transaction (charge the credit cards). The theater seats have a rectangular arrangement, with each row having Nseat seats and the rows being divided into two zones: the front NzoneA rows cost CzoneA euros per seat and the rear NzoneB rows cost CzoneB euros per seat. The first customer calls at time 0, and each subsequent customer calls after a random integer number of seconds in the interval [treslow, treshigh]. When all answering telephone operators are busy, the customer waits for the next available operator. When a customer connects to an operator, it randomly selects a zone with probability PzoneA for the front rows or (1-PzoneA) for the back rows, and a random integer number of tickets in interval [Nseatlow, Nseathigh]. The operator takes a random integer number of seconds in the interval [tseatlow,tseathigh] to test if there are enough consecutive seats in any of the rows in that zone. If there are no consecutive seats, the customer receives an error message and ends the call. If there are contiguous positions, they are reserved in plan of the theater, their total cost is calculated, and the customer proceeds to pay with the credit card. When all cashiers are busy, the customer waits for the next cashier available. When the customer connects to the cashier, the cashier needs a random integer number of seconds in the interval [tcashlow,tcashhigh] to try to make the payment. With probability Pcardsuccess the payment is accepted, the customer is charged the appropriate cost, the money is transferred to the company's account and the customer is informed of the total cost and the seat numbers in the selected zone. If payment fails, the reserved seats become available again for booking by the cashier and the customer gets an error message and completes the call. When Ncust clients are processed, the system prints its results.
